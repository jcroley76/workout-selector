<section fxLayout fxLayoutAlign="center">

  <mat-expansion-panel
    fxFlex.xs="100%"
    fxFlex="600px"
    (opened)="setPanelOpenState(true)"
    (closed)="setPanelOpenState(false)"
    [expanded]="panelOpenState"
    hideToggle="true"
    class="expansionPanel">
    <mat-expansion-panel-header>
      <mat-panel-title>
        <h2>Add an Exercise</h2>
      </mat-panel-title>
      <mat-panel-description fxLayoutAlign="end" class="expansionPanelHeaderButtons">
        <div fxFlex></div>
        <mat-icon *ngIf="!panelOpenState">add</mat-icon>
        <mat-icon *ngIf="panelOpenState">clear</mat-icon>
      </mat-panel-description>
    </mat-expansion-panel-header>


    <div fxLayout="row">
      <form
        fxLayoutGap="10px"
        [formGroup]="exForm">
        <mat-form-field>
          <input
            type="text"
            matInput
            (keyup)="searchExercises($event)"
            [matAutocomplete]="auto"
            placeholder="Search Exercises"
            formControlName="searchExercises">
        </mat-form-field>
        <mat-autocomplete #auto="matAutocomplete">
          <mat-option
            (onSelectionChange)="exerciseSelected($event)"
            *ngFor="let exercise of exerciseList"
            [value]="exercise">
            {{ exercise?.name }}
          </mat-option>
        </mat-autocomplete>
      </form>

      <app-exercise-set-manager
        [workoutExercise]="workoutExercise"
        (close)="closeExerciseSets($event)"
        *ngIf="showSets"></app-exercise-set-manager>

    </div>

  </mat-expansion-panel>

</section>
